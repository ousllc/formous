(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}})();const _={required:{validate:(e,t)=>{var r;return!(t.hasAttribute("required")||((r=t.getAttribute("data-validation"))==null?void 0:r.includes("required")))||e.trim().length>0},message:()=>"This field is required."},email:{validate:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),message:()=>"Please enter a valid email address."},numeric:{validate:e=>/^[0-9]+$/.test(e),message:()=>"Please enter a valid number."},alphanumeric:{validate:e=>/^[a-zA-Z0-9]+$/.test(e),message:()=>"Please enter only letters and numbers."},minLength:{validate:(e,t)=>{const a=t.getAttribute("minlength");return!a||e.length>=parseInt(a)},message:e=>`Minimum length is ${e.getAttribute("minlength")}`},maxLength:{validate:(e,t)=>{const a=t.getAttribute("maxlength");return a?e.length<=Number(a):!0},message:e=>`Please enter no more than ${e.getAttribute("maxlength")} characters`},min:{validate:(e,t)=>{const a=t.getAttribute("min");if(!a)return!0;const r=Number(e);return!isNaN(r)&&r>=Number(a)},message:e=>`Please enter a value greater than or equal to ${e.getAttribute("min")}`},max:{validate:(e,t)=>{const a=t.getAttribute("max");if(!a)return!0;const r=Number(e);return!isNaN(r)&&r<=Number(a)},message:e=>`Please enter a value less than or equal to ${e.getAttribute("max")}`},pattern:{validate:(e,t)=>{const a=t.getAttribute("data-pattern");return a?new RegExp(a).test(e):!0},message:e=>`Please match the requested format: ${e.getAttribute("data-pattern")}.`},url:{validate:e=>{if(!e)return!0;try{const t=new URL(e);return t.protocol!=="http:"&&t.protocol!=="https:"?!1:/^([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/.test(t.hostname)}catch{try{const t=new URL(`https://${e}`);return/^([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/.test(t.hostname)}catch{return!1}}},message:()=>"URLの形式が正しくありません。"},date:{validate:e=>!isNaN(Date.parse(e)),message:()=>"Please enter a valid date."},time:{validate:e=>/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e),message:()=>"Please enter a valid time in HH:MM format."},phone:{validate:e=>/^\+?[0-9\- ]{7,15}$/.test(e),message:()=>"Please enter a valid phone number."},postalCode:{validate:e=>/^[0-9]{3}-?[0-9]{4}$/.test(e),message:()=>"Please enter a valid postal code."},equals:{validate:(e,t)=>{const a=t.getAttribute("data-equals"),r=a?document.getElementById(a):null;return r?e===r.value:!0},message:()=>"Values do not match."},checkboxRequired:{validate:(e,t)=>t.checked,message:()=>"This checkbox is required."},fileRequired:{validate:(e,t)=>{const a=t.files;return a!==null&&a.length>0},message:()=>"Please upload a file."},accepted:{validate:e=>["yes","on","1","true"].includes(e.toLowerCase()),message:()=>"This field must be accepted."},json:{validate:e=>{try{return JSON.parse(e),!0}catch{return!1}},message:()=>"Please enter a valid JSON string."},"checkbox-group":{validate:(e,t)=>{const a=t.closest('fieldset[data-validation="checkbox-group"]');if(!a)return!0;const r=a.querySelectorAll('input[type="checkbox"]'),s=parseInt(a.getAttribute("data-group-min")||"0",10),n=a.getAttribute("data-group-max")?parseInt(a.getAttribute("data-group-max")||"0",10):r.length,i=Array.from(r).filter(c=>c.checked).length;return!a.getAttribute("data-group-min")&&i>n||!a.getAttribute("data-group-max")&&i<s?!1:i>=s&&i<=n},message:e=>{const t=e.closest('fieldset[data-validation="checkbox-group"]'),a=(t==null?void 0:t.getAttribute("data-group-min"))||"0",r=(t==null?void 0:t.getAttribute("data-group-max"))||"∞";return t!=null&&t.getAttribute("data-group-min")?t!=null&&t.getAttribute("data-group-max")?`Please select between ${a} and ${r} options.`:`Please select at least ${a} options.`:`Please select at most ${r} options.`}},"confirm-email":{validate:(e,t)=>{var r;const a=(r=t.form)==null?void 0:r.querySelector('input[data-validation~="email"]');return!a||!a.value?!0:e===a.value},message:()=>"Email addresses do not match."},password:{validate:(e,t,a)=>{var d;const r=((d=a==null?void 0:a.validationPatterns)==null?void 0:d.password)||{},s=r.minLength??8,n=r.maxLength??100,i=r.requireUppercase??!0,c=r.requireNumber??!0,o=r.requireSymbol??!0;return!(e.length<s||e.length>n||i&&!/[A-Z]/.test(e)||c&&!/\d/.test(e)||o&&!/[!@#$%^&*]/.test(e))},message:(e,t)=>{var d;const a=((d=t==null?void 0:t.validationPatterns)==null?void 0:d.password)||{},r=a.minLength??8,s=a.maxLength??100,n=a.requireUppercase??!0,i=a.requireNumber??!0,c=a.requireSymbol??!0,o=[];return o.push(`at least ${r} characters${s!==100?`, maximum ${s} characters`:""}`),n&&o.push("uppercase letter"),i&&o.push("number"),c&&o.push("special character (!@#$%^&*)"),`Password must contain ${o.join(", ")}`}},halfwidthKatakana:{validate:e=>e?/^[ｦ-ﾟ]+$/.test(e):!0,message:()=>"半角カタカナで入力してください。"},zenkaku:{validate:e=>e?/^[^\x01-\x7E\xA1-\xDF]+$/.test(e):!0,message:()=>"全角文字で入力してください。"}},L={..._};function Y(e){Object.assign(L,e)}function E(e,t,a=!1){var x,v;const r=e.closest("fieldset[data-validation]");let s=!0,n={};const i=[{attr:"required",type:"required"},{attr:"min",type:"min"},{attr:"max",type:"max"},{attr:"minlength",type:"minLength"},{attr:"maxlength",type:"maxLength"}],c={email:"email",url:"url",date:"date",time:"time",tel:"phone",number:"numeric"};if(e.type in c){const u=c[e.type],l=L[u];l&&!l.validate(e.value,e)&&(n[u]=l.message(e),s=!1)}i.forEach(u=>{var l;if(e.hasAttribute(u.attr)){const h=L[u.type];if(h&&!h.validate(e.value,e)){const A=(l=t==null?void 0:t.validationMessages)==null?void 0:l[u.type],p=typeof h.message=="function"?h.message(e):h.message;n[u.type]=A||p,s=!1}}}),(r?((x=r.getAttribute("data-validation"))==null?void 0:x.split(" "))||[]:((v=e.getAttribute("data-validation"))==null?void 0:v.split(" "))||[]).forEach(u=>{const l=L[u];l&&(l.validate(e.value,e,t)||(n[u]=l.message(e,t),s=!1))});const d=r||e.closest("div");if(d){const u=d.querySelectorAll('[data-validation="error"]');Z(u,n,e,t)}const b=e.getAttribute("name");if(b){const u=document.querySelectorAll(`[data-validation="error"][data-validation-for="${b}"]`),l=document.querySelector("[data-validation-error-global]");(a||l!=null&&l.classList.contains("active"))&&Z(u,n,e,t);const h=Array.from(u).some(A=>A.style.display==="block");l==null||l.classList.toggle("active",h)}return s}function U(e,t,a,r){var i,c,o;if(console.log("Debug getErrorMessage:",{type:e,errorsByType:a,hasError:a[e],options:r,validationMessages:r==null?void 0:r.validationMessages,optionMessage:(i=r==null?void 0:r.validationMessages)==null?void 0:i[e]}),!a[e])return"";const s=(c=t.closest("div"))==null?void 0:c.querySelector(`[data-validation-type="${e}"]`);if(s!=null&&s.hasAttribute("data-error-fixed"))return console.log("Using fixed message:",s.innerHTML),s.innerHTML;const n=(o=r==null?void 0:r.validationMessages)==null?void 0:o[e];if(n){if(console.log("Using option message:",n),typeof n=="function"){const d=n(t);return console.log("Function message result:",d),d}return n}return console.log("Using default message:",a[e]),a[e]}function Z(e,t,a,r){const s=Object.keys(t).length>0;e.forEach(n=>{var v,u;const i=n.getAttribute("data-validation-type"),c=n,o=c.innerHTML.trim(),d=c.hasAttribute("data-error-fixed");if(!i){if(s){const l=Object.keys(t)[0],h=U(l,a,t,r);d||((v=r==null?void 0:r.validationMessages)!=null&&v[l]||!o)&&(c.innerHTML=h),c.style.display="block"}else c.style.display="none";return}const b=U(i,a,t,r);if(d){c.style.display=t[i]?"block":"none";return}((u=r==null?void 0:r.validationMessages)==null?void 0:u[i])?c.innerHTML=b:o||(c.innerHTML=b),c.style.display=t[i]?"block":"none"})}function k(e,t={}){const{offset:a=50,behavior:r="smooth",duration:s="0.5s"}=t;document.documentElement.style.setProperty("scroll-behavior",r),document.documentElement.style.setProperty("transition-duration",s),e.style.scrollMargin=`${a}px`;const n=window.scrollY,i=e.getBoundingClientRect();if(i.top>=0&&i.bottom<=window.innerHeight){e.focus();return}e.scrollIntoView({behavior:r,block:"nearest",inline:"nearest"});let o=window.scrollY;const d=()=>{const b=window.scrollY;if(b===o&&b!==n){document.documentElement.style.removeProperty("scroll-behavior"),document.documentElement.style.removeProperty("transition-duration"),e.focus();return}o=b,requestAnimationFrame(d)};requestAnimationFrame(d)}function H(e,t){const a=e.querySelectorAll("input, textarea, select");let r=!0,s=null;return a.forEach(n=>{E(n,t,!0)||(r=!1,s||(s=n))}),!r&&s&&setTimeout(()=>{s&&k(s,t.scrollOptions)},0),r}function J(e,t){const{progressFillSelector:a="#progress-fill",indicatorSelector:r=".step-indicator",progressSelector:s="#step-progress",stepOptions:{useDisplayNone:n=!1,stepActiveClass:i="active",indicatorActiveClass:c="active"}={}}=t||{};let o=Array.from(e.querySelectorAll(".step"));o.forEach((m,f)=>{f!==0&&(n&&(m.style.display="none"),m.classList.remove("active"))});const d=document.querySelector(a),b=document.querySelectorAll(r),x=document.querySelector(s),v=document.querySelector("[data-step-current]"),u=document.querySelector("[data-step-total]");let l=0;const h=()=>{const m=(l+1)/o.length*100;d&&(d.style.width=`${m}%`),x&&x.setAttribute("aria-valuenow",String(m)),b.forEach((f,g)=>{f.classList.toggle(c,g===l)}),v&&(v.textContent=String(l+1)),u&&(u.textContent=String(o.length))},A=()=>{const f=o[l].querySelectorAll('input, textarea, select, [contenteditable="true"], button[role="combobox"], div[role="listbox"], div[role="slider"], div[role="spinbutton"]');let g=!0;return f.forEach(y=>{E(y,t)||(g=!1)}),g},p=m=>{o.forEach((y,q)=>{n&&(y.style.display=q===m?"block":"none"),y.classList.toggle(i,q===m)}),l=m,h();const f=o[l];f.classList.contains("confirmation-step")&&D(o[l-1],f);const g=f.querySelector('[data-action="next"]');g&&(g.style.display="inline-block")},D=(m,f)=>{var q;const g=f.querySelectorAll(".confirmation-section"),y=((q=t==null?void 0:t.confirmationOptions)==null?void 0:q.delimiter)||",";g.forEach(V=>{if(!V.getAttribute("data-step"))return;V.querySelectorAll("[data-confirm]").forEach(F=>{var R,O;const S=F.getAttribute("data-confirm");if(!S)return;const P=e.querySelector(`[name="${S}"]`);if(!P)return;let w="";switch(P.type){case"checkbox":const W=e.querySelectorAll(`input[name="${S}"]:checked`);w=Array.from(W).map(I=>{var C,z;return((z=(C=I.labels)==null?void 0:C[0])==null?void 0:z.textContent)||I.value}).join(y);break;case"radio":const $=e.querySelector(`input[name="${S}"]:checked`);w=$?((O=(R=$.labels)==null?void 0:R[0])==null?void 0:O.textContent)||$.value:"";break;default:w=P.value}F.textContent=w||"未入力"})})},M=()=>{if(!A()){const g=o[l].querySelector("input:invalid, textarea:invalid, select:invalid");g&&k(g,t==null?void 0:t.scrollOptions);return}l<o.length-1&&p(l+1)},N=()=>{l>0&&p(l-1)},j=m=>{m>l&&!A()||p(m)};return p(l),e.addEventListener("click",m=>{const f=m.target;if(f.hasAttribute("data-action")){const g=f.getAttribute("data-action");if(g==="next"||g==="confirm")M();else if(g==="previous")N();else if(g==="edit"){const y=parseInt(f.getAttribute("data-target-step")||"1")-1;p(y)}}}),b.forEach((m,f)=>{m.addEventListener("click",()=>j(f))}),{showStep:p,handleNext:M,handlePrevious:N,updateProgressBar:h}}const K={required:{message:"This field is required"}},G=K.required;console.log(`Custom rule found: ${G.message}`);typeof window<"u"&&(window.Webflow=window.Webflow||[]);const Q=e=>{if(e.enableWebflow){window.Webflow.push(()=>{T(e)});return}return T(e)};function T(e){const t=document.querySelector(e.formSelector);if(!t){console.error("Form not found");return}return e.customRules&&Y(e.customRules),t.querySelectorAll("input, textarea, select").forEach(r=>{r.addEventListener("input",()=>E(r,e,!1)),r.addEventListener("blur",()=>E(r,e,!1))}),e.enableWebflow&&(t.setAttribute("novalidate","true"),t.querySelectorAll('[data-validation="error"]').forEach(r=>{r.style.display="none"})),t.addEventListener("submit",async r=>{if(e.enableWebflow){if(!H(t,e)){r.preventDefault(),r.stopPropagation();return}return}if(r.preventDefault(),!H(t,e)){const i=t.querySelector("input:invalid, textarea:invalid, select:invalid");i&&k(i,e.scrollOptions);return}const n=new FormData(t);try{"onSubmit"in e&&await e.onSubmit(n)}catch(i){console.error("Error:",i)}}),J(t,e)}typeof window<"u"&&(window.Formous=Q);
//# sourceMappingURL=index.DwEfwTvx.js.map
